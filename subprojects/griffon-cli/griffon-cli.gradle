/*
 * Copyright 2010-2011 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import org.apache.tools.ant.filters.ReplaceTokens

apply plugin: 'groovy'

pomDescription = 'Griffon buildtime'

dependencies {
    groovy "org.codehaus.groovy:groovy-all:$groovyVersion"

    compile project(':griffon-rt')
    compile    ('org.codehaus.gpars:gpars:0.9'){
        exclude group: 'org.jboss.netty',      module: 'netty'
        exclude group: 'org.coconut.forkjoin', module: 'jsr166y'
    }
    compile 'org.coconut.forkjoin:jsr166y:070108',
            'junit:junit:4.8.1',
            'asm:asm:3.2',
            'commons-cli:commons-cli:1.2',
            'commons-io:commons-io:1.4',
            'commons-lang:commons-lang:2.6'
    compile('org.tmatesoft.svnkit:svnkit:1.3.1') {
        exclude group: 'com.sun.jna',          module: 'jna'
        exclude group: 'com.trilead',          module: 'trilead'
        exclude group: 'org.tmatesoft.sqljet', module: 'sqljet'
    }
    compile("org.apache.ant:ant:$antVersion") {
        exclude group: 'org.apache.ant', module: 'ant-launcher'
    }
    compile "org.apache.ant:ant-launcher:$antVersion"
    compile("org.apache.ant:ant-nodeps:$antVersion") {
        exclude group: 'org.apache.ant', module: 'ant'
    }
    compile("org.apache.ant:ant-junit:$antVersion") {
        exclude group: 'org.apache.ant', module: 'ant'
        exclude group: 'junit',          module: 'junit'
    }
    compile("org.apache.ant:ant-antlr:$antVersion") {
        exclude group: 'org.apache.ant', module: 'ant'
        exclude group: 'antlr',          module: 'antlr'
    }
    
    compile("org.springframework:org.springframework.core:$springVersion") {
        exclude group: 'org.apache.commons',  module: 'com.springsource.org.apache.commons.logging'
        exclude group: 'org.apache.log4',     module: 'com.springsource.org.apache.log4j'
        exclude group: 'org.aspectj',         module: 'com.springsource.org.aspectj.weaver'
        exclude group: 'org.springframework', module: 'org.springframework.asm'
    }
    compile("org.springframework:org.springframework.beans:$springVersion") {
        exclude group: 'javax.el',              module: 'com.springsource.javax.el'
        exclude group: 'javax.inject',          module: 'com.springsource.javax.inject'
        exclude group: 'net.sourceforge.cglib', module: 'com.springsource.net.sf.cglib'
        exclude group: 'org.apache.commons',    module: 'com.springsource.org.apache.commons.logging'
        exclude group: 'org.apache.log4',       module: 'com.springsource.org.apache.log4j'
        exclude group: 'org.springframework',   module: 'org.springframework.core'
        exclude group: 'org.springframework',   module: 'org.springframework.asm'
    }
    compile("org.springframework:org.springframework.context:$springVersion") {
        exclude group: 'edu.emory.mathcs.backport', module: 'com.springsource.edu.emory.mathcs.backport'
        exclude group: 'javax.annotation',          module: 'com.springsource.javax.annotation'
        exclude group: 'javax.ejb',                 module: 'com.springsource.javax.ejb'
        exclude group: 'javax.inject',              module: 'com.springsource.javax.inject'
        exclude group: 'javax.jms',                 module: 'com.springsource.javax.jms'
        exclude group: 'javax.persistence',         module: 'com.springsource.javax.persistence'
        exclude group: 'javax.validation',          module: 'com.springsource.javax.validation'
        exclude group: 'javax.xml.ws',              module: 'com.springsource.javax.xml.ws'
        exclude group: 'net.sourceforge.cglib',     module: 'com.springsource.net.sf.cglib'
        exclude group: 'org.aopalliance',           module: 'com.springsource.org.aopalliance'
        exclude group: 'org.apache.commons',        module: 'com.springsource.org.apache.commons.logging'
        exclude group: 'org.aspectj',               module: 'com.springsource.org.aspectj.weaver'
        exclude group: 'org.beanshell',             module: 'com.springsource.bsh'
        exclude group: 'org.codehaus.groovy',       module: 'com.springsource.org.codehaus.groovy'
        exclude group: 'org.hibernate',             module: 'com.springsource.org.hibernate.validator'
        exclude group: 'org.joda',                  module: 'com.springsource.org.joda.time'
        exclude group: 'org.jruby',                 module: 'com.springsource.org.jruby'
        exclude group: 'org.springframework',       module: 'org.springframework.asm'
        exclude group: 'org.springframework',       module: 'org.springframework.aop'
        exclude group: 'org.springframework',       module: 'org.springframework.beans'
        exclude group: 'org.springframework',       module: 'org.springframework.core'
        exclude group: 'org.springframework',       module: 'org.springframework.expression'
        exclude group: 'org.springframework',       module: 'org.springframework.instrument'
        exclude group: 'javax.inject',              module: 'com.springsource.org.atinject.tck'
    }
    compile("org.springframework:org.springframework.context.support:$springVersion") {
        exclude group: 'com.bea.commonj',               module: 'com.springsource.commonj'
        exclude group: 'com.opensymphony.quartz',       module: 'com.springsource.org.quartz'
        exclude group: 'javax.activation',              module: 'com.springsource.javax.activation'
        exclude group: 'javax.mail',                    module: 'com.springsource.javax.mail'
        exclude group: 'net.sourceforge.ehcache',       module: 'com.springsource.net.sf.ehcache'
        exclude group: 'net.sourceforge.jasperreports', module: 'com.springsource.net.sf.jasperreports'
        exclude group: 'org.apache.commons',            module: 'com.springsource.org.apache.commons.collections'
        exclude group: 'org.apache.commons',            module: 'com.springsource.org.apache.commons.logging'
        exclude group: 'org.apache.velocity',           module: 'com.springsource.org.apache.velocity'
        exclude group: 'org.freemarker',                module: 'com.springsource.freemarker'
        exclude group: 'org.springframework',           module: 'org.springframework.asm'
        exclude group: 'org.springframework',           module: 'org.springframework.beans'
        exclude group: 'org.springframework',           module: 'org.springframework.context'
        exclude group: 'org.springframework',           module: 'org.springframework.core'
        exclude group: 'org.springframework',           module: 'org.springframework.jdbc'
        exclude group: 'org.springframework',           module: 'org.springframework.transaction'    
    }
    compile('org.xhtmlrenderer:core-renderer:R8pre2') {
        exclude group: 'com.lowagie', module: 'itext'
    }
    compile('com.lowagie:itext:2.0.8') {
        exclude group: 'bouncycastle', module: 'bcmail-jdk14'
        exclude group: 'bouncycastle', module: 'bcprov-jdk14'
    }
    compile 'radeox:radeox:1.0-b2'
    compile("org.grails:grails-docs:$grailsDocsVersion") {
        exclude group: 'radeox',              module: 'radeox'
        exclude group: 'org.codehaus.groovy', module: 'groovy-all'
        exclude group: 'org.apache.ant',      module: 'ant'
        exclude group: 'org.xhtmlrenderer',   module: 'core-renderer'
    }
    compile('org.apache.ivy:ivy:2.2.0') {
        exclude group: 'ant',                module: 'ant'
        exclude group: 'ant',                module: 'ant-nodeps'
        exclude group: 'ant',                module: 'ant-trax'
        exclude group: 'commons-httpclient', module: 'commons-httpclient'
        exclude group: 'oro',                module: 'oro'
        exclude group: 'commons-vfs',        module: 'commons-vfs'
        exclude group: 'com.jcraft',         module: 'jsch'
        exclude group: 'org.bouncycastle',   module: 'bcpg-jdk14'
        exclude group: 'org.bouncycastle',   module: 'bcprov-jdk14'
    }
    compile('org.codehaus.gant:gant_groovy1.8:1.9.7') {
        exclude group: 'org.apache.ant', module: 'ant'
        exclude group: 'commons-cli',    module: 'commons-cli'
    }
}

processResources {
    filter(ReplaceTokens, tokens: [version:version, 
                                   groovyVersion:groovyVersion,
                                   antVersion:antVersion,
                                   slf4jVersion:slf4jVersion,
                                   springVersion:springVersion])
}

test {
    systemProperty('user.dir', rootProject.file('.').absolutePath)
}
